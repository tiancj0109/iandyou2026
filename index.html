<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–°å¹´å¿«ä¹</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: "Microsoft YaHei", sans-serif;
            background: #f5f7fa;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .login-box {
            width: 100%;
            max-width: 420px;
            background: #ffffff;
            border-radius: 18px;
            padding: 40px 30px;
            box-shadow: 0 6px 30px rgba(0, 0, 0, 0.06);
        }
        .title {
            text-align: center;
            font-size: 24px;
            color: #2c3e50;
            margin-bottom: 35px;
            font-weight: 700;
        }
        #passwordInput {
            width: 100%;
            height: 55px;
            padding: 0 22px;
            border: 1px solid #e8eef5;
            border-radius: 12px;
            font-size: 18px;
            outline: none;
            transition: all 0.3s;
        }
        #passwordInput:focus {
            border-color: #3498db;
            box-shadow: 0 0 0 4px rgba(52, 152, 219, 0.1);
        }
        #submitBtn {
            width: 100%;
            height: 55px;
            background: #3498db;
            color: #ffffff;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            margin-top: 25px;
            cursor: pointer;
            transition: background 0.3s;
        }
        #submitBtn:disabled {
            background: #bdd7ee;
            cursor: not-allowed;
        }
        .tip {
            text-align: center;
            height: 22px;
            line-height: 22px;
            margin-top: 20px;
            font-size: 15px;
        }
        #loadingTip { color: #3498db; display: none; }
        #errorTip { color: #e74c3c; display: none; }
    </style>
</head>
<body>
    <div class="login-box">
        <h2 class="title">è¯·è¾“å…¥éªŒè¯å¯†ç </h2>
        <input type="password" id="passwordInput" placeholder="è¯·è¾“å…¥å¯†ç åéªŒè¯" autocomplete="off">
        <button id="submitBtn" onclick="verifyPassword()">éªŒè¯å¹¶è·³è½¬</button>
        <div class="tip" id="loadingTip">ğŸ” éªŒè¯ä¸­ï¼Œè¯·ç¨å€™...</div>
        <div class="tip" id="errorTip">âŒ å¯†ç é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥</div>
    </div>
    <script>
        // å¯†ç å“ˆå¸Œåº“ï¼ˆåŸæœ‰ä¸å˜ï¼‰
        const ENCRYPTED_PASSWORDS = [
            "1a108703ec9e9087446a11e73c1fcddc10b8fcb239d92836b3aa9d3bd31c93a4",
            "01d70733306deff2d6e80c96b4ff28eef8c0e514d3a07ee516ba063cd50e2a75",
            "045ab31cd262879dd8ce3a7c7db265debc949b8d42459bd30a6af65722df5227"
        ];
        // âœ… æ ¸å¿ƒéšè—ï¼šä»…å­˜å‚¨URLçš„BASE64å¯†æ–‡ + ä½ æä¾›çš„SHA256å“ˆå¸Œï¼ˆæ— ä»»ä½•æ˜æ–‡URLï¼‰
        const TARGET_URL_BASE64 = "aHR0cDovLzM5LjEwNi40LjI1MS9pYW5keW91MjAyNg==";
        const TARGET_URL_HASH = "9fe3992075e97a7874a105885c669fcfeb0554acc82e7821050f68e2101eb4e5";

        // SHA256åŠ å¯†å‡½æ•°ï¼ˆåŸæœ‰ä¸å˜ï¼‰
        async function sha256Encrypt(rawStr) {
            const encoder = new TextEncoder();
            const dataBuffer = encoder.encode(rawStr);
            const hashBuffer = await crypto.subtle.digest('SHA-256', dataBuffer);
            return Array.from(new Uint8Array(hashBuffer)).map(byte => byte.toString(16).padStart(2, '0')).join('');
        }

        // âœ… æ–°å¢ï¼šBASE64è§£å¯†å‡½æ•°ï¼ˆä»…åœ¨å¯†ç éªŒè¯é€šè¿‡åæ‰§è¡Œï¼‰
        function base64Decode(encodedStr) {
            try {
                return decodeURIComponent(escape(window.atob(encodedStr)));
            } catch (err) {
                throw new Error("åœ°å€è§£æå¤±è´¥");
            }
        }

        // å¯†ç éªŒè¯ä¸»å‡½æ•°ï¼ˆé€»è¾‘ä¼˜åŒ–ï¼Œæ— æ˜æ–‡URLï¼‰
        async function verifyPassword() {
            const pwdInput = document.getElementById('passwordInput');
            const submitBtn = document.getElementById('submitBtn');
            const loadingTip = document.getElementById('loadingTip');
            const errorTip = document.getElementById('errorTip');

            loadingTip.style.display = 'none';
            errorTip.style.display = 'none';

            const inputPwd = pwdInput.value.trim();
            if (!inputPwd) {
                alert('âš ï¸ è¯·è¾“å…¥éªŒè¯å¯†ç ï¼');
                return;
            }

            submitBtn.disabled = true;
            loadingTip.style.display = 'block';

            try {
                // 1. éªŒè¯å¯†ç å“ˆå¸Œ
                const encryptedInput = await sha256Encrypt(inputPwd);
                const isPasswordValid = ENCRYPTED_PASSWORDS.includes(encryptedInput);
                
                if (isPasswordValid) {
                    // 2. å¯†ç éªŒè¯é€šè¿‡ â†’ è§£å¯†URLå¯†æ–‡ + äºŒæ¬¡å“ˆå¸Œæ ¡éªŒï¼ˆåŒé‡å®‰å…¨ï¼‰
                    const realTargetUrl = base64Decode(TARGET_URL_BASE64);
                    const decodedUrlHash = await sha256Encrypt(realTargetUrl);
                    
                    // 3. æ ¡éªŒè§£å¯†åçš„URLå“ˆå¸Œï¼Œé˜²æ­¢å¯†æ–‡è¢«ç¯¡æ”¹
                    if (decodedUrlHash === TARGET_URL_HASH) {
                        window.location.href = realTargetUrl; // æœ€ç»ˆè·³è½¬
                    } else {
                        alert('âš ï¸ ç›®æ ‡åœ°å€å·²è¢«ç¯¡æ”¹ï¼Œè·³è½¬å¤±è´¥ï¼');
                    }
                } else {
                    loadingTip.style.display = 'none';
                    errorTip.style.display = 'block';
                }
            } catch (err) {
                alert('âš ï¸ ç³»ç»ŸéªŒè¯å¼‚å¸¸ï¼Œè¯·é‡è¯•ï¼');
                console.error(err);
            } finally {
                submitBtn.disabled = false;
            }
        }

        // å›è½¦æäº¤ï¼ˆåŸæœ‰ä¸å˜ï¼‰
        document.getElementById('passwordInput').addEventListener('keydown', (e) => {
            if (e.key === 'Enter') verifyPassword();
        });
    </script>
</body>
</html>